<md-dialog class ="budget-dialog" aria-label="Proposta">
 <form name = "pollForm" style = "border:none !important;"  ng-submit = "createPoll()" novalidate class="md-no-momentum">
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>Nova Consulta </h2>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="closeDialog()">
            <i class="material-icons">clear</i>
          </md-button>
      </div>
    </md-toolbar>

    <md-dialog-content>
      <div class="md-dialog-content">
        <md-input-container class="md-block" style ="font-size: 20px; margin-bottom: 0px;">
                <label>Títol</label>
                <input type="text" ng-model="newPoll.title"  name="poll_title" required>
                <div ng-messages="pollForm.poll_title.$error">
                    <div ng-message="required">Es requereix el text del titol</div>
                </div>
            </md-input-container>
            <h3>Propostes:</h3>
        <md-card ng-repeat = "proposal in newPoll.proposals" flex="90" style ="margin: 0 auto; margin-bottom:15px; padding:15px;">
          <div layout ="row" layout-align ="end center" flex> 

             <md-button class="md-icon-button" ng-click="removeBudget(proposal)"> <i class="material-icons">clear</i>
            </md-button>
          </div>
          <h3>Proposta {{$index + 1}}</h3>
         
       
           
            <md-input-container class="md-block" style ="font-size: 18px; margin-bottom: 0px;">
                <label>Títol curt</label>
                <input type="text" ng-model="proposal.short_title" md-select-on-focus name="short_title" required>
                <div ng-messages="pollForm.short_title.$error">
                    <div ng-message="required">Es requereix el text del titol curt</div>
                </div>
            </md-input-container>
            <md-input-container class="md-block" style ="font-size: 18px; margin-bottom: 0px;" >
                  <label>Títol</label>
                  <textarea ng-model="proposal.title" rows="3" md-select-on-focus name="title" required></textarea>
                  <div ng-messages="pollForm.title.$error">
                      <div ng-message="required">Es requereix el text del titol</div>
                  </div>
            </md-input-container>
            <md-input-container class="md-block" style ="font-size: 18px; margin-bottom: 0px;" >
                <label>Objectiu</label>
                <textarea ng-model="proposal.object" rows="3" md-select-on-focus name="object"></textarea>
               <!-- <div ng-messages="pollForm.object.$error">
                    <div ng-message="required">Es requereix el text del titol</div>
                </div>-->
            </md-input-container>
            <md-input-container class="md-block" style ="font-size: 18px; margin-bottom: 0px;" >
                <label>Descripció</label>
                <textarea ng-model="proposal.description" rows="3" md-select-on-focus name="object" ></textarea>
                <!--<div ng-messages="pollForm.object.$error">
                    <div ng-message="required">Es requereix el text del titol</div>
                </div>-->
            </md-input-container>
            <md-input-container class="md-block" style ="font-size: 18px; margin-bottom: 0px;" >
                <label>Ubicació</label>
                <textarea ng-model="proposal.location" rows="3" md-select-on-focus name="location" ></textarea>
                <!--<div ng-messages="pollForm.location.$error">
                    <div ng-message="required">Es requereix el text del titol</div>
                </div>-->
            </md-input-container>
              <md-input-container class="md-block" style ="font-size: 18px; margin-bottom: 0px;" >
                <label>Cost aproximat</label>
                <input type="text" ng-model="proposal.cost" rows="3" md-select-on-focus name="cost" ></input>
              <!--  <div ng-messages="pollForm.cost.$error">
                    <div ng-message="required">Es requereix el text del titol</div>
                </div>-->
            </md-input-container>
            
        </md-card>

        <div layout ="row" layout-align ="end center" style ="margin-top:20px;margin-bottom:20px;" flex>                       
           <md-button  class="md-raised md-primary" ng-click ="addBudget()">Afegir</md-button>
        </div>

        <div layout="column" flex-gt-md="90" class="range layout-column flex-gt-md-90">
 
            <div layout-xs="column" layout="row"> 
                <p style = "font-size:24px; margin-top:25px;">Data d'inici':</p>
                       <md-input-container>
                             <label>Data d'inici'</label>
                              <md-datepicker ng-model="newPoll.publishDate.startDate" md-max-date="newPoll.publishDate.endDate"></md-datepicker>
                            </md-input-container> 
                            <p style = "font-size:24px; margin-top:25px;">Data de fi:</p>
                <md-input-container>
                   <label>Data de fi</label>
                      <md-datepicker md-min-date="newPoll.publishDate.startDate"  ng-model="newPoll.publishDate.endDate"></md-datepicker>
                </md-input-container> 
            </div> 
            <div layout="row"> 
                
            </div>   
   
        </div>
      </div>

   <!--   <div nv-file-drop="" uploader="uploader">
        <div>
            
            
            <input type="file" nv-file-select="" uploader="uploader"/><br/>

        </div>
      </div>-->


    </md-dialog-content>

  <md-dialog-actions layout="row">    
           <md-button type="submit" class="md-raised md-primary" >Crear</md-button>        
    </md-dialog-actions>
    
  </form>
</md-dialog>